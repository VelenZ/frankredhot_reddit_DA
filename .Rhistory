load("/Users/velen/Documents/文稿-iCloud/Learning/JHU/Sping II/Social Media Analytics/Final/frankredhot_reddit_DA/workspace.RData")
setwd("/Users/velen/Documents/文稿-iCloud/Learning/JHU/Sping II/Social Media Analytics/Final/frankredhot_reddit_DA")
library(textclean)
library(dplyr)
library(sentimentr)
library(data.table)
library(textcat)
library(zoo)
library(transforEmotion)
library(reshape2)
library(ggplot2)
library(tm)
library(wordcloud)
library(textstem)
library(RColorBrewer)
library(lda)
library(topicmodels)
library(RedditExtractoR)
# Emotion analysis
setup_miniconda()
tp_comments_text_bart <- transformer_scores(
    text = tp_comments_text,
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
library(transforEmotion)
setup_miniconda()
# 使用抽样的方式减少一些工作量，尽管要牺牲准确度
set.seed(2)
ta_sampled_comments <- sample(ta_comments_text,
    size = floor(length(ta_comments_text) / 10)
)
set.seed(2)
tp_sampled_comments <- sample(tp_comments_text,
    size = floor(length(tp_comments_text) / 10)
)
ta_comments_text_bart <- transformer_scores(
    text = ta_sampled_comments,
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
library(reticulate)
library(transforEmotion)
ta_comments_text_bart <- transformer_scores(
    text = ta_sampled_comments,
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
setwd("/Users/velen/Documents/文稿-iCloud/Learning/JHU/Sping II/Social Media Analytics/Final/frankredhot_reddit_DA")
View(ta_sampled_comments)
require(transforEmotion)
setup_miniconda()
ta_comments_text_bart <- transformer_scores(
    text = ta_sampled_comments,
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
setwd("/Users/velen/Documents/文稿-iCloud/Learning/JHU/Sping II/Social Media Analytics/Final/frankredhot_reddit_DA")
library(reticulate)
library(transforEmotion)
setup_miniconda()
test <- transformer_scores(
    text = "Hello World",
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
library(transforEmotion)
setup_miniconda()
tp_comments_text_bart <- transformer_scores(
    text = "Hello World!",
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
setwd("/Users/velen/Documents/文稿-iCloud/Learning/JHU/Sping II/Social Media Analytics/Final/frankredhot_reddit_DA")
library(transforEmotion)
# Emotion analysis
setup_miniconda()
# 使用抽样的方式减少一些工作量，尽管要牺牲准确度
set.seed(2)
ta_sampled_comments <- sample(ta_comments_text,
    size = floor(length(ta_comments_text) / 10)
)
set.seed(2)
tp_sampled_comments <- sample(tp_comments_text,
    size = floor(length(tp_comments_text) / 10)
)
ta_comments_text_bart <- transformer_scores(
    text = ta_sampled_comments,
    classes = c("anger", "anticipation", "disgust", "fear", "joy", "sadness", "surprise", "trust"),
    transformer = "facebook-bart"
)
